import{c as T,_ as W}from"./@babel.22c28777.js";import{r as h}from"./react.03111c44.js";import{u as F}from"./use-latest.3462513f.js";import{u as A}from"./use-composed-ref.d40c7153.js";var R={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},w=function(r){Object.keys(R).forEach(function(t){r.style.setProperty(t,R[t],"important")})},i=null,I=function(r,t){var e=r.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?e+t.borderSize:e-t.paddingSize};function k(o,r,t,e){t===void 0&&(t=1),e===void 0&&(e=1/0),i||(i=document.createElement("textarea"),i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),w(i)),i.parentNode===null&&document.body.appendChild(i);var n=o.paddingSize,a=o.borderSize,d=o.sizingStyle,c=d.boxSizing;Object.keys(d).forEach(function(p){var v=p;i.style[v]=d[v]}),w(i),i.value=r;var s=I(i,o);i.value="x";var l=i.scrollHeight-n,u=l*t;c==="border-box"&&(u=u+n+a),s=Math.max(u,s);var f=l*e;return c==="border-box"&&(f=f+n+a),s=Math.min(f,s),[s,l]}var H=function(){},B=function(r,t){return r.reduce(function(e,n){return e[n]=t[n],e},{})},M=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],N=!!document.documentElement.currentStyle,_=function(r){var t=window.getComputedStyle(r);if(t===null)return null;var e=B(M,t),n=e.boxSizing;if(n==="")return null;N&&n==="border-box"&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px");var a=parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),d=parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth);return{sizingStyle:e,paddingSize:a,borderSize:d}},j=function(r){var t=F(r);h.exports.useLayoutEffect(function(){var e=function(a){t.current(a)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[])},P=function(r,t){var e=r.cacheMeasurements,n=r.maxRows,a=r.minRows,d=r.onChange,c=d===void 0?H:d,s=r.onHeightChange,l=s===void 0?H:s,u=T(r,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=u.value!==void 0,p=h.exports.useRef(null),v=A(p,t),z=h.exports.useRef(0),m=h.exports.useRef(),b=function(){var g=p.current,S=e&&m.current?m.current:_(g);if(!!S){m.current=S;var y=k(S,g.value||g.placeholder||"x",a,n),x=y[0],L=y[1];z.current!==x&&(z.current=x,g.style.setProperty("height",x+"px","important"),l(x,{rowHeight:L}))}},C=function(g){f||b(),c(g)};return h.exports.useLayoutEffect(b),j(b),h.exports.createElement("textarea",W({},u,{onChange:C,ref:v}))},O=h.exports.forwardRef(P);const Z=O;export{Z as R};
